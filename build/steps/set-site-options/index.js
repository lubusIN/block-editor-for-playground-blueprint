(()=>{"use strict";const e=window.wp.blocks,t=window.wp.primitives,n=window.ReactJSXRuntime,i=(0,n.jsxs)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,n.jsx)(t.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,n.jsx)(t.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),s=window.wp.element,l=(window.wp.i18n,(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})})),o=(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),a=window.wp.blockEditor,r=window.wp.components,c=JSON.parse('{"UU":"playground-step/set-site-options","DD":"Set Site Options"}');(0,e.registerBlockType)(c.UU,{icon:i,edit:function({attributes:e,setAttributes:t,isSelected:p}){const{options:x}=e,[h,d]=(0,s.useState)(!1),[w,u]=(0,s.useState)(""),[m,j]=(0,s.useState)(""),[_,g]=(0,s.useState)(Object.entries(x)),[v,S]=(0,s.useState)(void 0);(0,s.useEffect)((()=>{t({options:Object.fromEntries(_)})}),[_]);const f=(e,t,n)=>{const i=_.map((([i,s],l)=>l!==e?[i,s]:"key"===t?[n,s]:"value"===t?[i,n]:void 0));g(i)};return(0,n.jsxs)("div",{...(0,a.useBlockProps)(),children:[(0,n.jsx)(r.Placeholder,{preview:(0,n.jsxs)(r.__experimentalVStack,{style:{width:"100%"},children:[(0,n.jsxs)(r.__experimentalHStack,{justify:"left",align:"center",spacing:3,children:[(0,n.jsx)(r.Icon,{icon:i,size:28,className:"step-icon"}),(0,n.jsxs)(r.__experimentalVStack,{spacing:1,children:[(0,n.jsx)(r.__experimentalText,{upperCase:!0,size:12,weight:500,color:"#949494",children:c.DD}),!p&&(0,n.jsx)(r.__experimentalText,{weight:600,children:(0,n.jsx)("pre",{children:JSON.stringify(x,null," ")})||"{config site options}"})]})]}),p&&(0,n.jsxs)(r.__experimentalVStack,{children:[(0,n.jsxs)(r.__experimentalHStack,{justify:"left",alignment:"bottom",children:[(0,n.jsx)(r.__experimentalInputControl,{label:"Name",value:w,onChange:e=>{u(e)}}),(0,n.jsx)(r.__experimentalInputControl,{label:"Value",value:m,onChange:e=>j(e)}),(0,n.jsx)(r.Button,{icon:l,label:"Add Config",onClick:()=>{g([..._,[w,m]]),u(""),j("")}})]}),x&&_.map((([e,t],i)=>(0,n.jsxs)(r.__experimentalHStack,{justify:"left",alignment:"bottom",children:[(0,n.jsx)(r.__experimentalInputControl,{label:"Name",value:e,onChange:e=>f(i,"key",e)}),(0,n.jsx)(r.__experimentalInputControl,{label:"Value",value:t,onChange:e=>f(i,"value",e)}),(0,n.jsx)(r.Button,{isDestructive:!0,icon:o,label:"Delete Config",onClick:()=>{S(i),d(!0)}})]},i)))]})]})}),(0,n.jsx)(r.__experimentalConfirmDialog,{isOpen:h,onConfirm:()=>{g(_.filter(((e,t)=>t!==v))),S(void 0),d(!1)},onCancel:()=>d(!1),children:"Delete Option?"})]})}})})();