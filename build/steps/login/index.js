(()=>{"use strict";const e=window.wp.blocks,n=window.wp.primitives,t=window.ReactJSXRuntime,l=(0,t.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(n.Path,{d:"M11 14.5l1.1 1.1 3-3 .5-.5-.6-.6-3-3-1 1 1.7 1.7H5v1.5h7.7L11 14.5zM16.8 5h-7c-1.1 0-2 .9-2 2v1.5h1.5V7c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v10c0 .3-.2.5-.5.5h-7c-.3 0-.5-.2-.5-.5v-1.5H7.8V17c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2z"})}),i=JSON.parse('{"UU":"playground-step/login","DD":"Login"}'),a=window.wp.i18n,o=(0,t.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)(n.Path,{d:"M9 13.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM9 16a4.002 4.002 0 003.8-2.75H15V16h2.5v-2.75H19v-2.5h-6.2A4.002 4.002 0 005 12a4 4 0 004 4z",fillRule:"evenodd",clipRule:"evenodd"})}),s=window.wp.blockEditor,r=window.wp.components,d=window.wp.element,c={sort:function(e,n,t){return"asc"===t?e-n:n-e},isValid:function(e,n){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(n?.elements){const t=n?.elements.map((e=>e.value));if(!t.includes(Number(e)))return!1}return!0},Edit:"integer"},u={sort:function(e,n,t){return"asc"===t?e.localeCompare(n):n.localeCompare(e)},isValid:function(e,n){if(n?.elements){const t=n?.elements?.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:"text"},m={sort:function(e,n,t){const l=new Date(e).getTime(),i=new Date(n).getTime();return"asc"===t?l-i:i-l},isValid:function(e,n){if(n?.elements){const t=n?.elements.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:"datetime"},p={datetime:function({data:e,field:n,onChange:l,hideLabelFromVision:i}){const{id:a,label:o}=n,s=n.getValue({item:e}),c=(0,d.useCallback)((e=>l({[a]:e})),[a,l]);return(0,t.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,t.jsx)(r.BaseControl.VisualLabel,{as:"legend",children:o}),i&&(0,t.jsx)(r.VisuallyHidden,{as:"legend",children:o}),(0,t.jsx)(r.TimePicker,{currentTime:s,onChange:c,hideLabelFromVision:!0})]})},integer:function({data:e,field:n,onChange:l,hideLabelFromVision:i}){var a;const{id:o,label:s,description:c}=n,u=null!==(a=n.getValue({item:e}))&&void 0!==a?a:"",m=(0,d.useCallback)((e=>l({[o]:Number(e)})),[o,l]);return(0,t.jsx)(r.__experimentalNumberControl,{label:s,help:c,value:u,onChange:m,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:n,onChange:l,hideLabelFromVision:i}){const{id:a,label:o}=n,s=n.getValue({item:e}),c=(0,d.useCallback)((e=>l({[a]:e})),[a,l]);return n.elements?(0,t.jsx)(r.RadioControl,{label:o,onChange:c,options:n.elements,selected:s,hideLabelFromVision:i}):null},select:function({data:e,field:n,onChange:l,hideLabelFromVision:i}){var o,s;const{id:c,label:u}=n,m=null!==(o=n.getValue({item:e}))&&void 0!==o?o:"",p=(0,d.useCallback)((e=>l({[c]:e})),[c,l]),f=[{label:(0,a.__)("Select item"),value:""},...null!==(s=n?.elements)&&void 0!==s?s:[]];return(0,t.jsx)(r.SelectControl,{label:u,value:m,options:f,onChange:p,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},text:function({data:e,field:n,onChange:l,hideLabelFromVision:i}){const{id:a,label:o,placeholder:s}=n,c=n.getValue({item:e}),u=(0,d.useCallback)((e=>l({[a]:e})),[a,l]);return(0,t.jsx)(r.TextControl,{label:o,placeholder:s,value:null!=c?c:"",onChange:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})}};function f(e){if(Object.keys(p).includes(e))return p[e];throw"Control "+e+" not found"}function x(e){return e.map((e=>{var n,t,l,i;const a="integer"===(o=e.type)?c:"text"===o?u:"datetime"===o?m:{sort:(e,n,t)=>"number"==typeof e&&"number"==typeof n?"asc"===t?e-n:n-e:"asc"===t?e.localeCompare(n):n.localeCompare(e),isValid:(e,n)=>{if(n?.elements){const t=n?.elements?.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:()=>null};var o;const s=e.getValue||(({item:n})=>n[e.id]),r=null!==(n=e.sort)&&void 0!==n?n:function(e,n,t){return a.sort(s({item:e}),s({item:n}),t)},d=null!==(t=e.isValid)&&void 0!==t?t:function(e,n){return a.isValid(s({item:e}),n)},p=function(e,n){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?f(e.Edit):e.elements?f("select"):"string"==typeof n.Edit?f(n.Edit):n.Edit}(e,a),x=e.render||(e.elements?({item:n})=>{const t=s({item:n});return e?.elements?.find((e=>e.value===t))?.label||s({item:n})}:s);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:s,render:x,sort:r,isValid:d,Edit:p,enableHiding:null===(l=e.enableHiding)||void 0===l||l,enableSorting:null===(i=e.enableSorting)||void 0===i||i}}))}const h=(0,t.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(n.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function g({title:e,onClose:n}){return(0,t.jsx)(r.__experimentalVStack,{className:"dataforms-layouts-panel__dropdown-header",spacing:4,children:(0,t.jsxs)(r.__experimentalHStack,{alignment:"center",children:[(0,t.jsx)(r.__experimentalHeading,{level:2,size:13,children:e}),(0,t.jsx)(r.__experimentalSpacer,{}),n&&(0,t.jsx)(r.Button,{__next40pxDefaultSize:!1,className:"dataforms-layouts-panel__dropdown-header-action",label:(0,a.__)("Close"),icon:h,onClick:n})]})})}function _({data:e,field:n,onChange:l}){const[i,o]=(0,d.useState)(null),s=(0,d.useMemo)((()=>({anchor:i,placement:"left-start",offset:36,shift:!0})),[i]);return(0,t.jsxs)(r.__experimentalHStack,{ref:o,className:"dataforms-layouts-panel__field",children:[(0,t.jsx)("div",{className:"dataforms-layouts-panel__field-label",children:n.label}),(0,t.jsx)("div",{children:(0,t.jsx)(r.Dropdown,{contentClassName:"dataforms-layouts-panel__field-dropdown",popoverProps:s,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},renderToggle:({isOpen:l,onToggle:i})=>(0,t.jsx)(r.Button,{className:"dataforms-layouts-panel__field-control",size:"compact",variant:"tertiary","aria-expanded":l,"aria-label":(0,a.sprintf)(
// translators: %s: Field name.
// translators: %s: Field name.
(0,a.__)("Edit %s"),n.label),onClick:i,children:(0,t.jsx)(n.render,{item:e})}),renderContent:({onClose:i})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{title:n.label,onClose:i}),(0,t.jsx)(n.Edit,{data:e,field:n,onChange:l,hideLabelFromVision:!0},n.id)]})})})]})}const b=[{type:"regular",component:function({data:e,fields:n,form:l,onChange:i}){const a=(0,d.useMemo)((()=>{var e;return x((null!==(e=l.fields)&&void 0!==e?e:[]).map((e=>n.find((({id:n})=>n===e)))).filter((e=>!!e)))}),[n,l.fields]);return(0,t.jsx)(r.__experimentalVStack,{spacing:4,children:a.map((n=>(0,t.jsx)(n.Edit,{data:e,field:n,onChange:i},n.id)))})}},{type:"panel",component:function({data:e,fields:n,form:l,onChange:i}){const a=(0,d.useMemo)((()=>{var e;return x((null!==(e=l.fields)&&void 0!==e?e:[]).map((e=>n.find((({id:n})=>n===e)))).filter((e=>!!e)))}),[n,l.fields]);return(0,t.jsx)(r.__experimentalVStack,{spacing:2,children:a.map((n=>(0,t.jsx)(_,{data:e,field:n,onChange:i},n.id)))})}}];function w({form:e,...n}){var l;const i=(a=null!==(l=e.type)&&void 0!==l?l:"regular",b.find((e=>e.type===a)));var a;return i?(0,t.jsx)(i.component,{form:e,...n}):null}(0,e.registerBlockType)(i.UU,{icon:l,edit:function({attributes:e,setAttributes:n,isSelected:a}){const{username:d,password:c}=e;return(0,t.jsx)("p",{...(0,s.useBlockProps)(),children:(0,t.jsx)(r.Placeholder,{preview:(0,t.jsxs)(r.__experimentalVStack,{style:{width:"100%"},children:[(0,t.jsxs)(r.__experimentalHStack,{justify:"left",align:"center",spacing:3,children:[(0,t.jsx)(r.Icon,{icon:l,size:28,className:"step-icon"}),(0,t.jsxs)(r.__experimentalVStack,{spacing:0,children:[(0,t.jsx)(r.__experimentalText,{upperCase:!0,size:12,weight:500,color:"#949494",children:i.DD}),!a&&d&&c&&(0,t.jsxs)(r.__experimentalHStack,{spacing:1,children:[(0,t.jsx)(r.__experimentalText,{weight:600,children:d}),(0,t.jsx)(r.Icon,{icon:o,style:{fill:"#949494"}})]})]})]}),a&&(0,t.jsx)(w,{data:{username:d,password:c},fields:[{id:"username",label:"Username",type:"text",placeholder:"Enter username"},{id:"password",label:"Password",type:"text",placeholder:"Enter password"}],form:{fields:["username","password"]},onChange:n})]})})})}})})();