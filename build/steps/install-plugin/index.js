(()=>{"use strict";const e=window.wp.blocks,l=window.wp.primitives,t=window.ReactJSXRuntime,n=(0,t.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(l.Path,{d:"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z"})}),i=window.wp.i18n,r=window.wp.blockEditor,s=window.wp.components,o=JSON.parse('{"UU":"playground-step/install-plugin","DD":"Install Plugin"}');(0,e.registerBlockType)(o.UU,{icon:n,edit:function({attributes:e,setAttributes:l,isSelected:a}){const{pluginZipFile:p,options:u}=e,{resource:c,path:g,url:h,slug:x}=p,{activate:d}=u,v=(e,t)=>{l({pluginZipFile:{...p,[e]:t}})};return(0,t.jsx)("div",{...(0,r.useBlockProps)(),children:(0,t.jsx)(s.Placeholder,{preview:(0,t.jsxs)(s.__experimentalVStack,{style:{width:"100%"},children:[(0,t.jsxs)(s.__experimentalHStack,{justify:"left",align:"center",spacing:3,children:[(0,t.jsx)(s.Icon,{icon:n,size:28,className:"step-icon"}),(0,t.jsxs)(s.__experimentalVStack,{spacing:1,children:[(0,t.jsx)(s.__experimentalText,{upperCase:!0,size:12,weight:500,color:"#949494",children:o.DD}),!a&&(0,t.jsx)(s.__experimentalText,{weight:600,children:`${c} > ${(e=>{switch(e){case"url":return h;case"vfs":return g;default:return x}})(c)} > ${d?"Activate":"Install and keep Inactive"}`})]})]}),a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.__experimentalToggleGroupControl,{label:"Resource",value:c,isBlock:!0,onChange:e=>{let t={resource:e};"vfs"===e?t.path=p.path||"":"url"===e?t.url=p.url||"":"wordpress.org/plugins"===e&&(t.slug=p.slug||""),l({pluginZipFile:t})},children:[(0,t.jsx)(s.__experimentalToggleGroupControlOption,{value:"url",label:"URL"}),(0,t.jsx)(s.__experimentalToggleGroupControlOption,{value:"wordpress.org/plugins",label:"Plugin"}),(0,t.jsx)(s.__experimentalToggleGroupControlOption,{value:"vfs",label:"VFS"})]}),"vfs"===c&&(0,t.jsx)(s.TextControl,{label:(0,i.__)("Path","install-plugin"),value:g,placeholder:"Enter the file path for the plugin ZIP",onChange:e=>v("path",e)}),"url"===c&&(0,t.jsx)(s.TextControl,{label:(0,i.__)("Url","install-plugin"),value:h,placeholder:"Enter the URL of the plugin ZIP file",onChange:e=>v("url",e)}),"wordpress.org/plugins"===c&&(0,t.jsx)(s.TextControl,{label:(0,i.__)("Slug","install-plugin"),value:x,placeholder:'Enter the plugin slug from WordPress.org (e.g., "contact-form-7")',onChange:e=>v("slug",e)}),(0,t.jsx)(s.ToggleControl,{label:"Activate",checked:d,onChange:()=>l({options:{activate:!d}})})]})]})})})}})})();