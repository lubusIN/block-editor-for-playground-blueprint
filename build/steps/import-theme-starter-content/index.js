(()=>{"use strict";const e=window.wp.blocks,t=window.wp.primitives,n=window.ReactJSXRuntime,l=(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{fillRule:"evenodd",d:"M16.83 6.342l.602.3.625-.25.443-.176v12.569l-.443-.178-.625-.25-.603.301-1.444.723-2.41-.804-.475-.158-.474.158-2.41.803-1.445-.722-.603-.3-.625.25-.443.177V6.215l.443.178.625.25.603-.301 1.444-.722 2.41.803.475.158.474-.158 2.41-.803 1.445.722zM20 4l-1.5.6-1 .4-2-1-3 1-3-1-2 1-1-.4L5 4v17l1.5-.6 1-.4 2 1 3-1 3 1 2-1 1 .4 1.5.6V4zm-3.5 6.25v-1.5h-8v1.5h8zm0 3v-1.5h-8v1.5h8zm-8 3v-1.5h8v1.5h-8z",clipRule:"evenodd"})}),i=JSON.parse('{"UU":"playground-step/import-theme-starter-content","DD":"Import theme starter content"}'),a=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.components,s=window.wp.element,d={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(Number(e)))return!1}return!0},Edit:"integer"},c={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"text"},u={sort:function(e,t,n){const l=new Date(e).getTime(),i=new Date(t).getTime();return"asc"===n?l-i:i-l},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"datetime"},m={datetime:function({data:e,field:t,onChange:l,hideLabelFromVision:i}){const{id:a,label:o}=t,d=t.getValue({item:e}),c=(0,s.useCallback)((e=>l({[a]:e})),[a,l]);return(0,n.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,n.jsx)(r.BaseControl.VisualLabel,{as:"legend",children:o}),i&&(0,n.jsx)(r.VisuallyHidden,{as:"legend",children:o}),(0,n.jsx)(r.TimePicker,{currentTime:d,onChange:c,hideLabelFromVision:!0})]})},integer:function({data:e,field:t,onChange:l,hideLabelFromVision:i}){var a;const{id:o,label:d,description:c}=t,u=null!==(a=t.getValue({item:e}))&&void 0!==a?a:"",m=(0,s.useCallback)((e=>l({[o]:Number(e)})),[o,l]);return(0,n.jsx)(r.__experimentalNumberControl,{label:d,help:c,value:u,onChange:m,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:t,onChange:l,hideLabelFromVision:i}){const{id:a,label:o}=t,d=t.getValue({item:e}),c=(0,s.useCallback)((e=>l({[a]:e})),[a,l]);return t.elements?(0,n.jsx)(r.RadioControl,{label:o,onChange:c,options:t.elements,selected:d,hideLabelFromVision:i}):null},select:function({data:e,field:t,onChange:l,hideLabelFromVision:i}){var o,d;const{id:c,label:u}=t,m=null!==(o=t.getValue({item:e}))&&void 0!==o?o:"",p=(0,s.useCallback)((e=>l({[c]:e})),[c,l]),f=[{label:(0,a.__)("Select item"),value:""},...null!==(d=t?.elements)&&void 0!==d?d:[]];return(0,n.jsx)(r.SelectControl,{label:u,value:m,options:f,onChange:p,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},text:function({data:e,field:t,onChange:l,hideLabelFromVision:i}){const{id:a,label:o,placeholder:d}=t,c=t.getValue({item:e}),u=(0,s.useCallback)((e=>l({[a]:e})),[a,l]);return(0,n.jsx)(r.TextControl,{label:o,placeholder:d,value:null!=c?c:"",onChange:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})}};function p(e){if(Object.keys(m).includes(e))return m[e];throw"Control "+e+" not found"}function f(e){return e.map((e=>{var t,n,l,i;const a="integer"===(o=e.type)?d:"text"===o?c:"datetime"===o?u:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:()=>null};var o;const r=e.getValue||(({item:t})=>t[e.id]),s=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return a.sort(r({item:e}),r({item:t}),n)},m=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return a.isValid(r({item:e}),t)},f=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?p(e.Edit):e.elements?p("select"):"string"==typeof t.Edit?p(t.Edit):t.Edit}(e,a),h=e.render||(e.elements?({item:t})=>{const n=r({item:t});return e?.elements?.find((e=>e.value===n))?.label||r({item:t})}:r);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:r,render:h,sort:s,isValid:m,Edit:f,enableHiding:null===(l=e.enableHiding)||void 0===l||l,enableSorting:null===(i=e.enableSorting)||void 0===i||i}}))}const h=(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function x({title:e,onClose:t}){return(0,n.jsx)(r.__experimentalVStack,{className:"dataforms-layouts-panel__dropdown-header",spacing:4,children:(0,n.jsxs)(r.__experimentalHStack,{alignment:"center",children:[(0,n.jsx)(r.__experimentalHeading,{level:2,size:13,children:e}),(0,n.jsx)(r.__experimentalSpacer,{}),t&&(0,n.jsx)(r.Button,{__next40pxDefaultSize:!1,className:"dataforms-layouts-panel__dropdown-header-action",label:(0,a.__)("Close"),icon:h,onClick:t})]})})}function g({data:e,field:t,onChange:l}){const[i,o]=(0,s.useState)(null),d=(0,s.useMemo)((()=>({anchor:i,placement:"left-start",offset:36,shift:!0})),[i]);return(0,n.jsxs)(r.__experimentalHStack,{ref:o,className:"dataforms-layouts-panel__field",children:[(0,n.jsx)("div",{className:"dataforms-layouts-panel__field-label",children:t.label}),(0,n.jsx)("div",{children:(0,n.jsx)(r.Dropdown,{contentClassName:"dataforms-layouts-panel__field-dropdown",popoverProps:d,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},renderToggle:({isOpen:l,onToggle:i})=>(0,n.jsx)(r.Button,{className:"dataforms-layouts-panel__field-control",size:"compact",variant:"tertiary","aria-expanded":l,"aria-label":(0,a.sprintf)(
// translators: %s: Field name.
// translators: %s: Field name.
(0,a.__)("Edit %s"),t.label),onClick:i,children:(0,n.jsx)(t.render,{item:e})}),renderContent:({onClose:i})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{title:t.label,onClose:i}),(0,n.jsx)(t.Edit,{data:e,field:t,onChange:l,hideLabelFromVision:!0},t.id)]})})})]})}const _=[{type:"regular",component:function({data:e,fields:t,form:l,onChange:i}){const a=(0,s.useMemo)((()=>{var e;return f((null!==(e=l.fields)&&void 0!==e?e:[]).map((e=>t.find((({id:t})=>t===e)))).filter((e=>!!e)))}),[t,l.fields]);return(0,n.jsx)(r.__experimentalVStack,{spacing:4,children:a.map((t=>(0,n.jsx)(t.Edit,{data:e,field:t,onChange:i},t.id)))})}},{type:"panel",component:function({data:e,fields:t,form:l,onChange:i}){const a=(0,s.useMemo)((()=>{var e;return f((null!==(e=l.fields)&&void 0!==e?e:[]).map((e=>t.find((({id:t})=>t===e)))).filter((e=>!!e)))}),[t,l.fields]);return(0,n.jsx)(r.__experimentalVStack,{spacing:2,children:a.map((t=>(0,n.jsx)(g,{data:e,field:t,onChange:i},t.id)))})}}];function b({form:e,...t}){var l;const i=(a=null!==(l=e.type)&&void 0!==l?l:"regular",_.find((e=>e.type===a)));var a;return i?(0,n.jsx)(i.component,{form:e,...t}):null}(0,e.registerBlockType)(i.UU,{icon:l,edit:function({attributes:e,setAttributes:t,isSelected:a}){const{themeSlug:s}=e;return(0,n.jsx)("p",{...(0,o.useBlockProps)(),children:(0,n.jsx)(r.Placeholder,{preview:(0,n.jsxs)(r.__experimentalVStack,{style:{width:"100%"},children:[(0,n.jsxs)(r.__experimentalHStack,{justify:"left",align:"center",spacing:3,children:[(0,n.jsx)(r.Icon,{icon:l,size:28,className:"step-icon"}),(0,n.jsxs)(r.__experimentalVStack,{spacing:1,children:[(0,n.jsx)(r.__experimentalText,{upperCase:!0,size:12,weight:500,color:"#949494",children:i.DD}),!a&&(0,n.jsx)(r.__experimentalText,{weight:600,children:`for ${s||"{THEME SLUG}"}`})]})]}),a&&(0,n.jsx)(b,{data:e,fields:[{id:"themeSlug",label:"Theme Slug",type:"text",placeholder:"e.g., twentytwentyfour"}],form:{fields:["themeSlug"]},onChange:t})]})})})}})})();